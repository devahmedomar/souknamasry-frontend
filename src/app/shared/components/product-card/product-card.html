<div class="card product-card border-0 shadow-sm h-100 overflow-hidden">
  <div class="position-relative">
    <div class="product-image-container position-relative" style="width: 100%; aspect-ratio: 1/1;">
      <img [ngSrc]="product().imageUrl || product().image || '/images/placeholder.svg'" [alt]="product().title" class="card-img-top product-image" fill />
    </div>

    <!-- Top Left Cart Icon -->
    <div class="position-absolute top-0 start-0 p-3 z-1">
      <button pButton type="button" icon="fas fa-shopping-cart"
        class="p-button-rounded p-button-text bg-white text-dark shadow-sm icon-btn"
        (click)="onAddToCart($event)"></button>
    </div>

    <!-- Top Right Wishlist Icon -->
    <div class="position-absolute top-0 end-0 p-3 z-1">
      <button pButton type="button"
        [icon]="isFavourite() ? 'fas fa-heart' : 'far fa-heart'"
        [class]="isFavourite() ? 'p-button-rounded p-button-text shadow-sm icon-btn favourite-active' : 'p-button-rounded p-button-text bg-white text-dark shadow-sm icon-btn'"
        (click)="onAddToWishlist($event)"></button>
    </div>
  </div>

  <div class="card-body text-center p-3 d-flex flex-column align-items-center gap-1 bg-secondary-50">
    <h3 class="card-title fw-bold text-dark-brown mb-1 h5">{{ product().title }}</h3>

    <div class="mb-1">
      <p-rating [ngModel]="product().rating" [readonly]="true" class="custom-rating"></p-rating>
    </div>

    <span class="text-muted small">{{ product().category }}</span>

    <div class="fw-bold fs-5 text-dark-brown mb-2">{{ product().price | price }}</div>

    <button class="btn btn-primary w-100 rounded-3 text-white fw-bold py-2 add-btn" (click)="onAddToCart($event)">
      {{ 'PRODUCT.ADD_TO_CART' | translate }}
    </button>
  </div>
</div>