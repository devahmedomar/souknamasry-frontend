<app-hero-banner></app-hero-banner>

<!-- ════════════════════════════════════
     زينة رمضان - بنر الترحيب
     ════════════════════════════════════ -->
<div class="ramadan-banner" aria-hidden="true">
  <!-- Starfield background layer -->
  <div class="rb-stars-bg"></div>

  <div class="rb-inner">
    <!-- Left mini fanooses -->
    <div class="rb-side rb-side-l">
      <span class="rb-mf rb-mf-gold"></span>
      <span class="rb-mf rb-mf-emerald"></span>
      <span class="rb-mf rb-mf-crimson"></span>
    </div>

    <!-- Centre greeting -->
    <div class="rb-center">
      <div class="rb-top-row">
        <span class="rb-star" style="--sd:0.0s">✦</span>
        <span class="rb-moon">☽</span>
        <h2 class="rb-greeting" lang="ar">رمضان كريم</h2>
        <span class="rb-moon">☾</span>
        <span class="rb-star" style="--sd:0.5s">✦</span>
      </div>
      <p class="rb-sub">Ramadan Mubarak</p>
    </div>

    <!-- Right mini fanooses -->
    <div class="rb-side rb-side-r">
      <span class="rb-mf rb-mf-crimson"></span>
      <span class="rb-mf rb-mf-royal"></span>
      <span class="rb-mf rb-mf-gold"></span>
    </div>
  </div>
</div>

<!-- Trust Badges Section — defer until idle (not needed for LCP) -->
@defer (on idle) {
<div appScrollAnimate [animation]="'fade-up'">
  <app-trust-badges></app-trust-badges>
</div>
} @placeholder {
<div style="height:80px"></div>
}

<!-- Category Showcase — defer until viewport -->
@defer (on viewport) {
<div appScrollAnimate [animation]="'fade-up'" [delay]="100">
  <app-category-showcase></app-category-showcase>
</div>
} @placeholder {
<div style="height:200px"></div>
}

<div class="container" appScrollAnimate [animation]="'fade-up'" [delay]="50">
  <h3 class="mb-4">{{ 'HOMEPAGE.FEATURED_PRODUCTS' | translate }}</h3>
  @defer (on viewport) {
  <app-featured-products></app-featured-products>
  } @placeholder {
  <div class="row g-4 py-4">
    @for (i of [1, 2, 3, 4]; track i) {
    <div class="col-6 col-md-4 col-lg-3">
      <app-product-card-skeleton></app-product-card-skeleton>
    </div>
    }
  </div>
  } @loading (minimum 200ms) {
  <div class="row g-4 py-4">
    @for (i of [1, 2, 3, 4]; track i) {
    <div class="col-6 col-md-4 col-lg-3">
      <app-product-card-skeleton></app-product-card-skeleton>
    </div>
    }
  </div>
  }
</div>

<!-- Deals of the Day -->
<!-- @defer (on viewport) {
<app-deals-of-day></app-deals-of-day>
} @placeholder {
<div class="container py-4">
  <div class="row g-4">
    @for (i of [1, 2, 3, 4]; track i) {
    <div class="col-6 col-md-4 col-lg-3">
      <app-product-card-skeleton></app-product-card-skeleton>
    </div>
    }
  </div>
</div>
} -->

<!-- Dynamic Category Sections -->
<div class="container" appScrollAnimate [animation]="'fade-up'">
  @defer (on viewport) {
  <app-dynamic-sections [sortBy]="'random'" [limit]="10"></app-dynamic-sections>
  } @placeholder {
  <div class="row g-4 py-4">
    @for (i of [1, 2, 3, 4]; track i) {
    <div class="col-6 col-md-4 col-lg-3">
      <app-product-card-skeleton></app-product-card-skeleton>
    </div>
    }
  </div>
  } @loading (minimum 200ms) {
  <div class="row g-4 py-4">
    @for (i of [1, 2, 3, 4]; track i) {
    <div class="col-6 col-md-4 col-lg-3">
      <app-product-card-skeleton></app-product-card-skeleton>
    </div>
    }
  </div>
  }
</div>

<!-- Sponsored Products Section -->
<div class="gradient-warmy" appScrollAnimate [animation]="'slide-right'" [delay]="100">
  <div class="container">
    @defer (on viewport) {
    <app-sponsored-products></app-sponsored-products>
    } @placeholder {
    <div class="row g-4 py-4">
      @for (i of [1, 2, 3, 4]; track i) {
      <div class="col-6 col-md-4 col-lg-3">
        <app-product-card-skeleton></app-product-card-skeleton>
      </div>
      }
    </div>
    } @loading (minimum 200ms) {
    <div class="row g-4 py-4">
      @for (i of [1, 2, 3, 4]; track i) {
      <div class="col-6 col-md-4 col-lg-3">
        <app-product-card-skeleton></app-product-card-skeleton>
      </div>
      }
    </div>
    }
  </div>
</div>

<!-- Customer Testimonials -->
@defer (on viewport) {
<app-testimonials></app-testimonials>
} @placeholder {
<div></div>
}

<!-- Statistics Counter Section -->
@defer (on viewport) {
<div appScrollAnimate [animation]="'zoom-in'">
  <app-statistics-counter></app-statistics-counter>
</div>
} @placeholder {
<div></div>
}
